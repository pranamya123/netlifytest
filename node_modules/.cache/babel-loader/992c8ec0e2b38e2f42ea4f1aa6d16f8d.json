{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst schema_1 = require(\"../schema\");\n\nconst utils_1 = require(\"../utils\");\n\nclass ChoiceSchema extends schema_1.Schema {\n  constructor(parameters) {\n    super(parameters);\n    this._choices = utils_1.mapFromArray(parameters.choices.map(choice => choice && typeof choice === 'object' ? choice : {\n      value: choice\n    }), 'value');\n  }\n\n  expected({\n    descriptor\n  }) {\n    const choiceValues = Array.from(this._choices.keys()).map(value => this._choices.get(value)).filter(choiceInfo => !choiceInfo.deprecated).map(choiceInfo => choiceInfo.value).sort(utils_1.comparePrimitive).map(descriptor.value);\n    const head = choiceValues.slice(0, -2);\n    const tail = choiceValues.slice(-2);\n    return head.concat(tail.join(' or ')).join(', ');\n  }\n\n  validate(value) {\n    return this._choices.has(value);\n  }\n\n  deprecated(value) {\n    const choiceInfo = this._choices.get(value);\n\n    return choiceInfo && choiceInfo.deprecated ? {\n      value\n    } : false;\n  }\n\n  forward(value) {\n    const choiceInfo = this._choices.get(value);\n\n    return choiceInfo ? choiceInfo.forward : undefined;\n  }\n\n  redirect(value) {\n    const choiceInfo = this._choices.get(value);\n\n    return choiceInfo ? choiceInfo.redirect : undefined;\n  }\n\n}\n\nexports.ChoiceSchema = ChoiceSchema;","map":{"version":3,"sources":["/Users/pranamyavadlamani/Desktop/Research/PortFolio/portfolio-site/node_modules/vnopts/lib/schemas/choice.js"],"names":["Object","defineProperty","exports","value","schema_1","require","utils_1","ChoiceSchema","Schema","constructor","parameters","_choices","mapFromArray","choices","map","choice","expected","descriptor","choiceValues","Array","from","keys","get","filter","choiceInfo","deprecated","sort","comparePrimitive","head","slice","tail","concat","join","validate","has","forward","undefined","redirect"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAME,YAAN,SAA2BH,QAAQ,CAACI,MAApC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,UAAD,EAAa;AACpB,UAAMA,UAAN;AACA,SAAKC,QAAL,GAAgBL,OAAO,CAACM,YAAR,CAAqBF,UAAU,CAACG,OAAX,CAAmBC,GAAnB,CAAuBC,MAAM,IAAIA,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAA5B,GAAuCA,MAAvC,GAAgD;AAAEZ,MAAAA,KAAK,EAAEY;AAAT,KAAjF,CAArB,EAA0H,OAA1H,CAAhB;AACH;;AACDC,EAAAA,QAAQ,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAiB;AACrB,UAAMC,YAAY,GAAGC,KAAK,CAACC,IAAN,CAAW,KAAKT,QAAL,CAAcU,IAAd,EAAX,EAChBP,GADgB,CACZX,KAAK,IAAI,KAAKQ,QAAL,CAAcW,GAAd,CAAkBnB,KAAlB,CADG,EAEhBoB,MAFgB,CAETC,UAAU,IAAI,CAACA,UAAU,CAACC,UAFjB,EAGhBX,GAHgB,CAGZU,UAAU,IAAIA,UAAU,CAACrB,KAHb,EAIhBuB,IAJgB,CAIXpB,OAAO,CAACqB,gBAJG,EAKhBb,GALgB,CAKZG,UAAU,CAACd,KALC,CAArB;AAMA,UAAMyB,IAAI,GAAGV,YAAY,CAACW,KAAb,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,CAAb;AACA,UAAMC,IAAI,GAAGZ,YAAY,CAACW,KAAb,CAAmB,CAAC,CAApB,CAAb;AACA,WAAOD,IAAI,CAACG,MAAL,CAAYD,IAAI,CAACE,IAAL,CAAU,MAAV,CAAZ,EAA+BA,IAA/B,CAAoC,IAApC,CAAP;AACH;;AACDC,EAAAA,QAAQ,CAAC9B,KAAD,EAAQ;AACZ,WAAO,KAAKQ,QAAL,CAAcuB,GAAd,CAAkB/B,KAAlB,CAAP;AACH;;AACDsB,EAAAA,UAAU,CAACtB,KAAD,EAAQ;AACd,UAAMqB,UAAU,GAAG,KAAKb,QAAL,CAAcW,GAAd,CAAkBnB,KAAlB,CAAnB;;AACA,WAAOqB,UAAU,IAAIA,UAAU,CAACC,UAAzB,GAAsC;AAAEtB,MAAAA;AAAF,KAAtC,GAAkD,KAAzD;AACH;;AACDgC,EAAAA,OAAO,CAAChC,KAAD,EAAQ;AACX,UAAMqB,UAAU,GAAG,KAAKb,QAAL,CAAcW,GAAd,CAAkBnB,KAAlB,CAAnB;;AACA,WAAOqB,UAAU,GAAGA,UAAU,CAACW,OAAd,GAAwBC,SAAzC;AACH;;AACDC,EAAAA,QAAQ,CAAClC,KAAD,EAAQ;AACZ,UAAMqB,UAAU,GAAG,KAAKb,QAAL,CAAcW,GAAd,CAAkBnB,KAAlB,CAAnB;;AACA,WAAOqB,UAAU,GAAGA,UAAU,CAACa,QAAd,GAAyBD,SAA1C;AACH;;AA9BsC;;AAgC3ClC,OAAO,CAACK,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst schema_1 = require(\"../schema\");\nconst utils_1 = require(\"../utils\");\nclass ChoiceSchema extends schema_1.Schema {\n    constructor(parameters) {\n        super(parameters);\n        this._choices = utils_1.mapFromArray(parameters.choices.map(choice => choice && typeof choice === 'object' ? choice : { value: choice }), 'value');\n    }\n    expected({ descriptor }) {\n        const choiceValues = Array.from(this._choices.keys())\n            .map(value => this._choices.get(value))\n            .filter(choiceInfo => !choiceInfo.deprecated)\n            .map(choiceInfo => choiceInfo.value)\n            .sort(utils_1.comparePrimitive)\n            .map(descriptor.value);\n        const head = choiceValues.slice(0, -2);\n        const tail = choiceValues.slice(-2);\n        return head.concat(tail.join(' or ')).join(', ');\n    }\n    validate(value) {\n        return this._choices.has(value);\n    }\n    deprecated(value) {\n        const choiceInfo = this._choices.get(value);\n        return choiceInfo && choiceInfo.deprecated ? { value } : false;\n    }\n    forward(value) {\n        const choiceInfo = this._choices.get(value);\n        return choiceInfo ? choiceInfo.forward : undefined;\n    }\n    redirect(value) {\n        const choiceInfo = this._choices.get(value);\n        return choiceInfo ? choiceInfo.redirect : undefined;\n    }\n}\nexports.ChoiceSchema = ChoiceSchema;\n"]},"metadata":{},"sourceType":"script"}